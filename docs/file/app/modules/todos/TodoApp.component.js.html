<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">app/modules/todos/TodoApp.component.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <a data-ice="repoURL" href="https://github.com/Freezystem/redux-app.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-initialState">initialState</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-rootReducer">rootReducer</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">modules/main</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-HomePage">HomePage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MainApp">MainApp</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Menu">Menu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-NotFound">NotFound</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ReactDOM">ReactDOM</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://developer.mozilla.org/en-US/docs/Glossary/XML">XML</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">modules/todos</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FilterLink">FilterLink</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Todo">Todo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TodoApp">TodoApp</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TodoFilterLinks">TodoFilterLinks</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TodoFooter">TodoFooter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TodoForm">TodoForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TodoList">TodoList</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">modules/todos/reducers</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SET_TODO_FILTER">SET_TODO_FILTER</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getFilteredTodos">getFilteredTodos</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-setTodoFilter">setTodoFilter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-todoFilter">todoFilter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-todoFilters">todoFilters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ADD_TODO">ADD_TODO</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CLEAR_TODO">CLEAR_TODO</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-REMOVE_TODO">REMOVE_TODO</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TOGGLE_TODO">TOGGLE_TODO</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addTodo">addTodo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-clearTodo">clearTodo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-removeTodo">removeTodo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-todos">todos</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-toggleTodo">toggleTodo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-todoObj">todoObj</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">app/modules/todos/TodoApp.component.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">&apos;use strict&apos;;

// Styles
import &apos;./TodoApp.scss&apos;;

// Dependencies
import React          from &apos;react&apos;;
import { connect }    from &apos;react-redux&apos;;
import classNames     from &apos;classnames&apos;;

import {
  addTodo,
  removeTodo,
  toggleTodo,
  clearTodo
}                     from &apos;./reducers/todos.reducer&apos;;
import {
  todoFilters,
  setTodoFilter,
  getFilteredTodos
}                     from &apos;./reducers/todoFilter.reducer&apos;;

// Presentational Components

/**
 * Generate a clickable todo item with a label and an delete button
 * @param {boolean} completed
 * whether the todo is completed or not
 * @param {string} label
 * the todo label
 * @param {function} onClick
 * the function to perform when the todo label is clicked, here {@link toggleTodo}
 * @param {function} onButtonClick
 * the function to perform when the todo button is clicked, here {@link removeTodo}
 * @return {ReactDOM}
 * &lt;li class=&quot;todoList_item&quot;/&gt; markup
 */
export const Todo = (
  { completed, label, onClick, onButtonClick }
) =&gt; (
  &lt;li className={`todoList_item todoList_item-${completed ? &apos;completed&apos; : &apos;pending&apos;}`}&gt;
    &lt;span className=&quot;todoList_itemLabel&quot;
          onClick={onClick}&gt;{label}&lt;/span&gt;
    &lt;button className=&quot;todoList_itemButton&quot;
            onClick={onButtonClick}&gt;+&lt;/button&gt;
  &lt;/li&gt;
);

/**
 * Generate a list of todos
 * @param {Array&lt;todoObj&gt;} filteredTodos
 * pre-filtered list of todos depending on the actual selected filter
 * @param {function(id:number)} onTodoClick
 * function to perform when a todo label is clicked, here {@link toggleTodo}
 * @param {function(id:number)} onTodoButtonClick
 * function to perform when a todo button is clicked, here {@link removeTodo}
 * @return {ReactDOM}
 * &lt;ul class=&quot;todoList&quot;/&gt; markup
 */
export const TodoList = (
  { filteredTodos, onTodoClick, onTodoButtonClick }
) =&gt; (
  &lt;ul className=&quot;todoList&quot;&gt;
    {
      filteredTodos.map(todo =&gt;
        &lt;Todo key={todo.id}
              {...todo}
              onClick={() =&gt; onTodoClick(todo.id)}
              onButtonClick={() =&gt; onTodoButtonClick(todo.id)}/&gt;
      )
    }
  &lt;/ul&gt;
);

/**
 * Generate a form to submit a new todo
 * @param {function(label:string)} onTodoFormSubmit
 * function to perform on form submit
 * @return {ReactDOM}
 * &lt;form class=&quot;todoForm&quot;/&gt; markup
 */
export const TodoForm = (
  { onTodoFormSubmit }
) =&gt; {
  let _label;

  return (
    &lt;form className=&quot;todoForm&quot;
          onSubmit={(e) =&gt; {
            e.preventDefault();
            _label.value.trim() &amp;&amp; onTodoFormSubmit(_label.value.trim());
            _label.value = &apos;&apos;;
          }}&gt;
      &lt;input className=&quot;todoForm_label&quot;
             type=&quot;text&quot;
             placeholder=&quot;What&apos;s need to be done today ?&quot;
             ref={input =&gt; _label = input}/&gt;
      &lt;button className=&quot;todoForm_submit&quot;&gt;add&lt;/button&gt;
    &lt;/form&gt;
  )
};

/**
 * Generate a link to change filter value
 * @param {boolean} active
 * whether the link is already active or not
 * @param {string} filter
 * constant representing the filter value
 * @param {function(filter:string)} onClick
 * function to perform when link is clicked, here {@link setTodoFilter}
 * @return {ReactDOM}
 * &lt;a class=&quot;filterList_item&quot; /&gt; markup
 */
export const FilterLink = (
  { active, filter, onClick }
) =&gt; (
  &lt;a className={classNames(&apos;filterList_item&apos;, { &apos;filterList_item-active&apos; : active})}
     href={`#${filter}`}
     onClick={e =&gt; {
       e.preventDefault();
       !active &amp;&amp; onClick(filter);
     }}&gt;{filter.replace(/SHOW_/, &apos;&apos;)}&lt;/a&gt;
);

/**
 * Generate a list of todo filter links
 * @param {Array&lt;string&gt;} filterList
 * list of all available filters
 * @param {string} currentFilter
 * constant representing the currently active filter in the list
 * @param {function()} onLinkClick
 * function to perform when a filter link is clicked
 * @return {ReactDOM}
 * &lt;div class=&quot;filterList&quot; /&gt; markup
 */
export const TodoFilterLinks = (
  { filterList, currentFilter, onLinkClick }
) =&gt; (
  &lt;div className=&quot;filterList&quot;&gt;
    &lt;span class=&quot;filterList_label&quot;&gt;see:&lt;/span&gt;
    {
      filterList.map((filter, index) =&gt; (
        &lt;FilterLink key={index}
                    filter={filter}
                    active={filter === currentFilter}
                    onClick={onLinkClick}/&gt;
      ))
    }
  &lt;/div&gt;
);

/**
 * Generate a footer for the todo list
 * @param {Array&lt;todoObj&gt;} todos
 * list of all todos
 * @param {function()} onTodoClearClick
 * function to perform when the clear button is clicked
 * @return {ReactDOM}
 * &lt;p class=&quot;todoFooter&quot; /&gt; markup
 */
export const TodoFooter = (
  { todos, onTodoClearClick }
) =&gt; {
  let completed = todos.filter(todo =&gt; todo.completed).length,
    total       = todos.length,
    text        = total ? (total === completed ? &apos;all done, good job!&apos; : `${completed}/${total} done`) : &apos;no todo yet&apos;;

  return (
    &lt;p className=&quot;todoFooter&quot;&gt;
      &lt;span className=&quot;todoFooter_count&quot;&gt;{text}&lt;/span&gt;
      &lt;a className={classNames(&apos;todoFooter_clear&apos;, { &apos;todoFooter_clear-hide&apos; : !completed })}
         onClick={(e) =&gt; {
           e.preventDefault();
           completed &amp;&amp; onTodoClearClick();
         }}&gt;clear completed&lt;/a&gt;
    &lt;/p&gt;
  );
};

// Container Components

/**
 * Generate the whole todo application
 * @param {Array&lt;todoObj&gt;} todos
 * list of all available todos
 * @param {string} filter
 * current active filter
 * @param {Array&lt;string&gt;} filterList
 * list of all todo filters
 * @param {function} onTodoFormSubmit
 * function to perform when the todo form is submitted
 * @param {function} onTodoClick
 * function to perform when the todo label is clicked
 * @param {function} onTodoButtonClick
 * function to perform when the todo button is clicked
 * @param {function} onTodoClearClick
 * function to perform when the clear button is clicked
 * @param {function} onLinkClick
 * function to perform when a filter link is clicked
 * @return {ReactDOM}
 * &lt;section class=&quot;todoApp&quot; /&gt; markup
 */
export const TodoApp = ({
  todos,
  filter,
  filterList,
  onTodoFormSubmit,
  onTodoClick,
  onTodoButtonClick,
  onTodoClearClick,
  onLinkClick
}) =&gt; (
  &lt;section className=&quot;todoApp&quot;&gt;
    &lt;TodoForm onTodoFormSubmit={onTodoFormSubmit}/&gt;
    &lt;TodoFilterLinks filterList={filterList}
                     currentFilter={filter}
                     onLinkClick={onLinkClick}/&gt;
    &lt;TodoList filteredTodos={getFilteredTodos(todos, filter)}
              onTodoClick={onTodoClick}
              onTodoButtonClick={onTodoButtonClick}/&gt;
    &lt;TodoFooter todos={todos} onTodoClearClick={onTodoClearClick}/&gt;
  &lt;/section&gt;
);

/**
 * Map the application state to the component properties
 * @param {Object} state
 * @return {obejct}
 * @property {Array&lt;todoObj&gt;} todos
 * @property {string} filter
 * @property {Array&lt;string&gt;} filterList
 * a mapped state to props object
 */
const MapStateToProps = ( state ) =&gt; {
  return {
    todos         : state.todos,
    filter        : state.todoFilter,
    filterList    : Object.keys(todoFilters)
  };
};

/**
 * Map dispatch action to the component properties
 * @param {function} dispatch
 * the store dispatch function
 * @return {Object}
 * @property {function(label:string)} onTodoFormSubmit
 * @property {function(id:number)} onTodoClick
 * @property {function(id:number)} onTodoButtonClick
 * @property {function} onTodoClearClick
 * @property {function(filter:string)} onLinkClick
 */
const MapDispatchToProps = ( dispatch ) =&gt; {
  return {
    onTodoFormSubmit  : label =&gt; dispatch(addTodo(label)),
    onTodoClick       : id =&gt; dispatch(toggleTodo(id)),
    onTodoButtonClick : id =&gt; dispatch(removeTodo(id)),
    onTodoClearClick  : () =&gt; dispatch(clearTodo()),
    onLinkClick       : filter =&gt; dispatch(setTodoFilter(filter))
  };
};

/**
 * connect react component to redux state
 * @return {ReactDOM}
 * connected &lt;section class=&quot;todoApp&quot; /&gt; markup
 */
export default connect(
  MapStateToProps,
  MapDispatchToProps
)(TodoApp);</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.8)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
